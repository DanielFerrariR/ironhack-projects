(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,a){e.exports=a(99)},33:function(e,t,a){},35:function(e,t,a){},37:function(e,t,a){},42:function(e,t,a){},63:function(e,t,a){},65:function(e,t,a){},70:function(e,t,a){},72:function(e,t,a){},74:function(e,t,a){},76:function(e,t,a){},78:function(e,t,a){},80:function(e,t,a){},82:function(e,t,a){},84:function(e,t,a){},86:function(e,t,a){},88:function(e,t,a){},90:function(e,t,a){},92:function(e,t,a){},94:function(e,t,a){},96:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(25),i=a.n(r),l=(a(33),a(35),a(37),a(39),a(1)),c=a.n(l),o=(a(41),a(3)),u=a(4),m=a(6),d=a(5),g=a(7),p=(a(42),a(103)),h=a(101),f=a(104),v=a(9),b=a(14),E=a.n(b),U=function e(){var t=this;Object(o.a)(this,e),this.signup=function(e,a){return t.service.post("/signup",{username:e,password:a}).then(function(e){return e.data})},this.loggedin=function(){return t.service.get("/loggedin").then(function(e){return e.data})},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then(function(e){return e.data})},this.resetPassword=function(e){return t.service.post("/reset",{username:e}).then(function(e){return e.data})},this.getResetPasswordUpdate=function(e){return t.service.get("/reset/update/"+e).then(function(e){return e.data})},this.resetPasswordUpdate=function(e,a,s){return t.service.post("/reset/update/"+s,{username:e,password:a}).then(function(e){return e.data})},this.confirmEmail=function(e){return t.service.get("/confirm/"+e).then(function(e){return e.data})},this.logout=function(){return t.service.post("/logout",{}).then(function(e){return e.data})};var a=E.a.create({baseURL:"".concat("https://letstoast.herokuapp.com"),withCredentials:!0});this.service=a},N=a(100),y=(a(63),a(65),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={message:""},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){c()(".message").dialog({classes:{"ui-dialog":"message-component"},autoOpen:!1,modal:!0,minHeight:0,show:{effect:"fade",duration:1e3},hide:{effect:"fade",duration:1e3},buttons:[{text:"OK",click:function(){c()(this).dialog("close")}}],create:function(){c()(this).closest(".ui-dialog").find(".ui-button").addClass("message-button")},open:function(){c()(".ui-widget-overlay").height(c()(document).height()),c()(".ui-widget-overlay").addClass("message-overlay")}}),window.addEventListener("resize",function(){c()(".message-component").position({my:"center",at:"center",of:window}),c()(".ui-widget-overlay").height(c()(document).height())})}},{key:"componentWillReceiveProps",value:function(e){this.setState({message:e.message})}},{key:"render",value:function(){return n.a.createElement("div",{className:"message"},n.a.createElement("p",null,this.state.message))}}]),t}(s.Component)),S=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state,s=t.username,n=t.password;if(s&&n){if(s.length<7||s.length>40)return a.setState({message:"The email needs 8-40 characters."}),void c()(".message").dialog("open");if(n.length<7||n.length>40)return a.setState({message:"The password needs 8-40 characters."}),void c()(".message").dialog("open");a.service.signup(s,n).then(function(e){a.props.getUser(e),a.props.history.push("/")}).catch(function(e){e.response&&e.response.data&&(a.setState({message:e.response.data.message}),c()(".message").dialog("open"))})}else a.setState({message:"Provide all information."}),c()(".message").dialog("open")},a.handleChange=function(e){var t=e.target,s=t.name,n=t.value;a.setState(Object(v.a)({},s,n))},a.state={username:"",password:"",message:""},a.service=new U,a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){c()(".message").dialog("destroy")}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("div",{className:"signup-component"},n.a.createElement("form",{onSubmit:this.handleFormSubmit},n.a.createElement("div",{className:"field is-grouped is-grouped-centered"},n.a.createElement("h1",{className:"title signup-title"},"Let's Toast")),n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("label",{className:"label signup-label"},"Email"),n.a.createElement("input",{className:"input is-primary",name:"username",type:"email",value:this.state.username,onChange:function(t){return e.handleChange(t)}}))),n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("label",{className:"label signup-label"},"Password"),n.a.createElement("input",{className:"input is-primary",name:"password",type:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}}))),n.a.createElement(y,{message:this.state.message}),n.a.createElement("div",{className:"field is-grouped is-grouped-centered"},n.a.createElement("div",{className:"control"},n.a.createElement("input",{className:"button is-primary signup-button",type:"submit",value:"Sign Up"}))),n.a.createElement("div",{className:"field is-grouped is-grouped-centered"},n.a.createElement("h6",{className:"subtitle signup-subtitle"},"Already have an account?",n.a.createElement(N.a,{to:"/",className:"signup-link"}," Login"))))))}}]),t}(s.Component),w=Object(f.a)(S),O=(a(70),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state,s=t.username,n=t.password;if(s&&n){if(s.length<7||s.length>40)return a.setState({message:"The email needs 8-40 characters."}),void c()(".message").dialog("open");if(n.length<7||n.length>40)return a.setState({message:"The password needs 8-40 characters."}),void c()(".message").dialog("open");a.service.login(s,n).then(function(e){a.props.getUser(e)}).catch(function(e){e.response&&e.response.data&&(a.setState({message:e.response.data.message}),c()(".message").dialog("open"))})}else a.setState({message:"Provide all information."}),c()(".message").dialog("open")},a.handleChange=function(e){var t=e.target,s=t.name,n=t.value;a.setState(Object(v.a)({},s,n))},a.state={username:"",password:"",message:""},a.service=new U,a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){c()(".message").dialog("destroy")}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("div",{className:"login-component"},n.a.createElement("form",{onSubmit:this.handleFormSubmit},n.a.createElement("div",{className:"field is-grouped is-grouped-centered"},n.a.createElement("h1",{className:"title login-title"},"Let's Toast")),n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("label",{className:"label login-label"},"Email"),n.a.createElement("input",{className:"input is-primary",name:"username",type:"text",value:this.state.username,onChange:function(t){return e.handleChange(t)}}))),n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("label",{className:"label login-label"},"Password"),n.a.createElement("input",{className:"input is-primary",name:"password",type:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}}))),n.a.createElement(y,{message:this.state.message}),n.a.createElement("div",{className:"field is-grouped is-grouped-centered"},n.a.createElement("div",{className:"control"},n.a.createElement("input",{className:"button is-primary login-button",type:"submit",value:"Login"}))),n.a.createElement("div",{className:"field is-grouped is-grouped-centered"},n.a.createElement("h6",{className:"subtitle login-subtitle"},"Don't have an account?",n.a.createElement(N.a,{to:"/signup",className:"login-link"}," Sign Up"))),n.a.createElement("div",{className:"field is-grouped is-grouped-centered"},n.a.createElement("h6",{className:"subtitle login-subtitle"},"Forgot your password?",n.a.createElement(N.a,{to:"/reset",className:"login-link"}," Reset"))))))}}]),t}(s.Component)),j=(a(72),function e(){var t=this;Object(o.a)(this,e),this.getMessages=function(e){return t.service.get("/messages/"+e).then(function(e){return e.data})},this.postMessage=function(e,a){return t.service.post("/messages/"+e,{message:a}).then(function(e){return e.data})},this.findUsers=function(){return t.service.get("/find/users").then(function(e){return e.data})},this.findPending=function(){return t.service.get("/find/pending").then(function(e){return e.data})},this.findRequested=function(){return t.service.get("/find/requested").then(function(e){return e.data})},this.findPermanent=function(){return t.service.get("/find/permanent").then(function(e){return e.data})},this.accept=function(e){return t.service.get("/accept/"+e).then(function(e){return e.data})},this.refuse=function(e){return t.service.get("/refuse/"+e).then(function(e){return e.data})},this.updateInfo=function(e,a,s,n){var r=new FormData;return r.append("name",e),r.append("aboutMe",a),r.append("interest",s),n&&r.append("picture",n),t.service.post("/update/info",r,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){return e.data})},this.updateUser=function(e,a,s,n,r,i){var l=new FormData;return l.append("name",e),l.append("username",a),l.append("password",s),l.append("aboutMe",n),l.append("interest",r),i&&l.append("picture",i),t.service.post("/profile/update",l,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){return e.data})};var a=E.a.create({baseURL:"".concat("https://letstoast.herokuapp.com"),withCredentials:!0});this.service=a}),C=(a(74),function(e){return e.user&&n.a.createElement("div",{className:"tabs is-centered tab-global"},n.a.createElement("ul",null,e.to.map(function(t,a){return e.current===t[1]?n.a.createElement("li",{className:"is-active",key:a},n.a.createElement(N.a,{to:t[0]},t[1])):n.a.createElement("li",{key:a},n.a.createElement(N.a,{to:t[0]},t[1]))})))}),k=(a(76),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).logoutUser=function(){a.service.logout().then(function(){a.props.getUser()})},a.service=new U,a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){c()(".navbar-burger").length&&(c()(".navbar-menu").toggleClass("navbar-menu-color"),c()(".navbar-item").toggleClass("navbar-item-color")),c()(".navbar-burger").click(function(){c()(".navbar-burger").toggleClass("is-active"),c()(".navbar-menu").toggleClass("is-active navbar-menu-absolute")})}},{key:"toggleOff",value:function(){c()(".navbar-burger").hasClass("is-active")&&(c()(".navbar-burger").toggleClass("is-active"),c()(".navbar-menu").toggleClass("is-active navbar-menu-absolute"))}},{key:"render",value:function(){var e=this;return this.props.user?n.a.createElement("div",null,n.a.createElement("nav",{className:"navbar is-link"},n.a.createElement("div",{className:"navbar-brand"},n.a.createElement(N.a,{to:"/",className:"navbar-item navbar-title"},n.a.createElement("span",null,"Let's Toast")),n.a.createElement("div",{className:"navbar-burger burger","data-target":"navbarExampleTransparentExample"},n.a.createElement("span",null),n.a.createElement("span",null),n.a.createElement("span",null))),n.a.createElement("div",{className:"navbar-menu"},n.a.createElement("div",{className:"navbar-end"},n.a.createElement(N.a,{to:"/profile",onClick:function(){return e.toggleOff()},className:"navbar-item navbar-text"},"Profile"),n.a.createElement(N.a,{to:"/",onClick:function(){return e.logoutUser()},className:"navbar-item navbar-text"},"Logout"))))):null}}]),t}(s.Component)),M=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).getUser=function(){a.props.getUser(null)},a.handleChange=function(e){var t=e.target,s=t.name,n=t.value;a.setState(Object(v.a)({},s,n))};var s=a.props.user,n=s.name,r=s.username,i=s.aboutMe,l=s.interest,c=s.pictureUrl,u=s.status;return a.state={loggedInUser:a.props.user,name:n,username:r,password:"",aboutMe:i,interest:l,pictureUrl:c,file:null,message:"",status:u},a.service=new j,a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){c()(".message").dialog("destroy")}},{key:"handleChangeFile",value:function(e){this.setState({file:e.target.files[0],pictureUrl:URL.createObjectURL(e.target.files[0])})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state,s=a.name,n=a.username,r=a.password,i=a.aboutMe,l=a.interest,o=a.file;s&&n&&i&&l?r&&(r.length<7||r.length>40)?(this.setState({message:"The password needs 8-40 characters."}),c()(".message").dialog("open")):n.length<7||n.length>40?(this.setState({message:"The email needs 8-40 characters."}),c()(".message").dialog("open")):s.length<7||s.length>20?(this.setState({message:"The name needs 8-20 characters"}),c()(".message").dialog("open")):l.length>30?(this.setState({message:"The interest needs less than 30 characters"}),c()(".message").dialog("open")):i.length>200?(this.setState({message:"The about me needs less than 200 characters"}),c()(".message").dialog("open")):this.service.updateUser(s,n,r,i,l,o).then(function(e){t.setState({status:e.status,message:e.message}),c()(".message").dialog("open")}).catch(function(e){e.response&&e.response.data&&(t.setState({message:e.response.data.message}),c()(".message").dialog("open"))}):(this.setState({message:"Provide all information."}),c()(".message").dialog("open"))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(k,{user:this.state.loggedInUser,getUser:this.getUser}),n.a.createElement(C,{user:this.state.loggedInUser,to:[["/","Chat"],["/pending","Pending"],["/requested","Requested"],["/search/people","Search"]]}),n.a.createElement("div",{className:"profile-component"},n.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},n.a.createElement("div",{className:"field is-grouped is-grouped-centered"},n.a.createElement("img",{className:"profile-picture",src:this.state.pictureUrl,alt:"profile"})),n.a.createElement("div",{className:"field is-grouped is-grouped-centered profile-upload"},n.a.createElement("div",{className:"file is-primary"},n.a.createElement("label",{className:"file-label"},n.a.createElement("input",{className:"file-input",type:"file",onChange:function(t){return e.handleChangeFile(t)}}),n.a.createElement("span",{className:"file-cta"},n.a.createElement("span",{className:"file-label"},"Upload\u2026"))))),n.a.createElement("div",{className:"field profile-input"},n.a.createElement("div",{className:"control"},n.a.createElement("label",{className:"label profile-label profile-name"},"Name"),n.a.createElement("input",{className:"input is-primary",name:"name",type:"text",value:this.state.name,onChange:function(t){return e.handleChange(t)}}))),n.a.createElement("div",{className:"field profile-input"},n.a.createElement("div",{className:"control"},n.a.createElement("label",{className:"label profile-label"},"Email - ",n.a.createElement("span",{className:"profile-status"},this.state.status)),n.a.createElement("input",{className:"input is-primary",name:"username",type:"email",value:this.state.username,onChange:function(t){return e.handleChange(t)}}))),n.a.createElement("div",{className:"field profile-input"},n.a.createElement("div",{className:"control"},n.a.createElement("label",{className:"label profile-label"},"New Password"),n.a.createElement("input",{className:"input is-primary",name:"password",type:"text",value:this.state.password,onChange:function(t){return e.handleChange(t)}}))),n.a.createElement("div",{className:"field profile-input"},n.a.createElement("div",{className:"control"},n.a.createElement("label",{className:"label profile-label"},"About Me"),n.a.createElement("textarea",{className:"textarea is-primary",name:"aboutMe",value:this.state.aboutMe,onChange:function(t){return e.handleChange(t)}}))),n.a.createElement("div",{className:"field profile-input"},n.a.createElement("div",{className:"control"},n.a.createElement("label",{className:"label profile-label"},"Interest"),n.a.createElement("input",{className:"input is-primary",name:"interest",value:this.state.interest,onChange:function(t){return e.handleChange(t)}}))),n.a.createElement(y,{message:this.state.message}),n.a.createElement("div",{className:"field is-grouped is-grouped-centered"},n.a.createElement("button",{className:"button is-primary profile-button",type:"submit"},"Update Info")))))}}]),t}(s.Component),I=(a(78),a(80),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={user:a.props.user},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({user:e.user})}},{key:"componentDidMount",value:function(){var e=this;c()(".box-style").draggable({revert:"invalid",opacity:.8,zIndex:100,scroll:!1}),c()(".box-refuse").height(c()(document).height()),c()(".box-accept").height(c()(document).height()),window.addEventListener("resize",function(){c()(".box-refuse").height(c()(document).height()),c()(".box-accept").height(c()(document).height())}),c()(".box-refuse").droppable({tolerance:"fit",drop:function(t,a){a.draggable.toggle("fade"),e.props.refuse(a.draggable.attr("id"))},over:function(e,t){t.draggable.addClass("box-red")},out:function(e,t){t.draggable.removeClass("box-red")}}),c()(".box-accept").droppable({tolerance:"fit",drop:function(t,a){a.draggable.toggle("fade"),e.props.accept(a.draggable.attr("id"))},over:function(e,t){t.draggable.addClass("box-green")},out:function(e,t){t.draggable.removeClass("box-green")}})}},{key:"render",value:function(){return this.props.noChat?n.a.createElement("li",{className:"box-style",id:this.state.user.id},n.a.createElement("img",{src:this.state.user.pictureUrl,alt:"profile",className:"box-picture"}),n.a.createElement("div",{className:"box-content"},n.a.createElement("p",{className:"box-name"},this.state.user.name),n.a.createElement("p",{className:"box-interest"},this.state.user.interest))):n.a.createElement(N.a,{to:"/chat/"+this.state.user.id},n.a.createElement("li",{className:"box-style",id:this.state.user.id},n.a.createElement("img",{src:this.state.user.pictureUrl,alt:"profile",className:"box-picture"}),n.a.createElement("div",{className:"box-content"},n.a.createElement("p",{className:"box-name"},this.state.user.name),n.a.createElement("p",{className:"box-interest"},this.state.user.interest))))}}]),t}(s.Component)),x=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).listUsers=function(){return a.state.users.map(function(e,t){var s={id:e._id,name:e.name,interest:e.interest,aboutMe:e.aboutMe,pictureUrl:e.pictureUrl};return n.a.createElement(I,{key:t,user:s,refuse:a.refuse})})},a.getUser=function(){a.props.getUser(null)},a.fetchUsers=function(){a.service.findPermanent().then(function(e){null===e.user?a.setState({users:[],searchMessage:e.message}):a.setState({users:e.user.permanentUsers})}).catch(function(e){e.response&&e.response.data&&(a.setState({searchMessage:e.response.data.message}),c()(".message").dialog("open"))})},a.refuse=function(e){a.service.refuse(e).catch(function(e){e.response&&e.response.data&&(a.setState({message:e.response.data.message}),c()(".message").dialog("open"))})},a.state={loggedInUser:a.props.user,users:[],message:"",searchMessage:""},a.service=new j,a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.fetchUsers(),this.interval=setInterval(function(){return e.fetchUsers()},1e3)}},{key:"componentWillUnmount",value:function(){c()(".message").dialog("destroy"),clearInterval(this.interval)}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"box-refuse"}),n.a.createElement(k,{user:this.state.loggedInUser,getUser:this.getUser}),n.a.createElement(C,{current:"Chat",user:this.state.loggedInUser,to:[["/","Chat"],["/pending","Pending"],["/requested","Requested"],["/search/people","Search"]]}),n.a.createElement("div",{className:"permanent-component"},n.a.createElement("p",{className:"permanent-message"},this.state.searchMessage),n.a.createElement(y,{message:this.state.message}),n.a.createElement("ul",null,this.listUsers())))}}]),t}(s.Component),P=(a(82),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).listUsers=function(){return a.state.users.map(function(e,t){var s={id:e._id,name:e.name,interest:e.interest,aboutMe:e.aboutMe,pictureUrl:e.pictureUrl};return n.a.createElement(I,{key:t,user:s,refuse:a.refuse,accept:a.accept})})},a.getUser=function(){a.props.getUser(null)},a.fetchUsers=function(){a.service.findPending().then(function(e){null===e.user?a.setState({users:[],searchMessage:e.message}):a.setState({users:e.user.pendingUsers})}).catch(function(e){e.response&&e.response.data&&(a.setState({message:e.response.data.message}),c()(".message").dialog("open"))})},a.accept=function(e){a.service.accept(e).catch(function(e){e.response&&e.response.data&&(a.setState({message:e.response.data.message}),c()(".message").dialog("open"))})},a.refuse=function(e){a.service.refuse(e).catch(function(e){e.response&&e.response.data&&(a.setState({message:e.response.data.message}),c()(".message").dialog("open"))})},a.state={loggedInUser:a.props.user,users:[],message:"",searchMessage:""},a.service=new j,a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.fetchUsers(),this.interval=setInterval(function(){return e.fetchUsers()},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval),c()(".message").dialog("destroy")}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"box-refuse"}),n.a.createElement("div",{className:"box-accept"}),n.a.createElement(k,{user:this.state.loggedInUser,getUser:this.getUser}),n.a.createElement(C,{current:"Pending",user:this.state.loggedInUser,to:[["/","Chat"],["/pending","Pending"],["/requested","Requested"],["/search/people","Search"]]}),n.a.createElement("div",{className:"pending-component"},n.a.createElement("p",{className:"pending-message"},this.state.searchMessage),n.a.createElement(y,{message:this.state.message}),n.a.createElement("ul",null,this.listUsers())))}}]),t}(s.Component)),q=(a(84),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).listUsers=function(){return a.state.users.map(function(e,t){var s={id:e._id,name:e.name,interest:e.interest,aboutMe:e.aboutMe,pictureUrl:e.pictureUrl};return n.a.createElement(I,{key:t,user:s,refuse:a.refuse})})},a.getUser=function(){a.props.getUser(null)},a.fetchUsers=function(){a.service.findRequested().then(function(e){null===e.user?a.setState({users:[],searchMessage:e.message}):a.setState({users:e.user.requestedUsers})}).catch(function(e){e.response&&e.response.data&&(a.setState({message:e.response.data.message}),c()(".message").dialog("open"))})},a.refuse=function(e){a.service.refuse(e).catch(function(e){e.response&&e.response.data&&(a.setState({message:e.response.data.message}),c()(".message").dialog("open"))})},a.state={loggedInUser:a.props.user,users:[],message:"",searchMessage:""},a.service=new j,a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.fetchUsers(),this.interval=setInterval(function(){return e.fetchUsers()},1e3)}},{key:"componentWillUnmount",value:function(){c()(".message").dialog("destroy"),clearInterval(this.interval)}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"box-refuse"}),n.a.createElement(k,{user:this.state.loggedInUser,getUser:this.getUser}),n.a.createElement(C,{current:"Requested",user:this.state.loggedInUser,to:[["/","Chat"],["/pending","Pending"],["/requested","Requested"],["/search/people","Search"]]}),n.a.createElement("div",{className:"requested-component"},n.a.createElement("p",{className:"requested-message"},this.state.searchMessage),n.a.createElement(y,{message:this.state.message}),n.a.createElement("ul",null,this.listUsers())))}}]),t}(s.Component)),R=(a(86),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).listUsers=function(){return a.state.users.map(function(e,t){return n.a.createElement(I,{key:t,user:e,refuse:a.refuse,accept:a.accept,noChat:!0})})},a.getUser=function(){a.props.getUser(null)},a.fetchUsers=function(){a.service.findUsers().then(function(e){null===e.users?a.setState({users:[],searchMessage:e.message}):a.setState({users:e.users,searchMessage:e.message})}).catch(function(e){e.response&&e.response.data&&(a.setState({searchMessage:e.response.data.message}),c()(".message").dialog("open"))})},a.accept=function(e){a.service.accept(e).catch(function(e){e.response&&e.response.data&&(a.setState({message:e.response.data.message}),c()(".message").dialog("open"))})},a.refuse=function(e){a.service.refuse(e).catch(function(e){e.response&&e.response.data&&(a.setState({message:e.response.data.message}),c()(".message").dialog("open"))})},a.state={loggedInUser:a.props.user,users:[],message:"",searchMessage:""},a.service=new j,a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.fetchUsers(),this.interval=setInterval(function(){return e.fetchUsers()},1e3)}},{key:"componentWillUnmount",value:function(){c()(".message").dialog("destroy"),clearInterval(this.interval)}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"box-refuse"}),n.a.createElement("div",{className:"box-accept"}),n.a.createElement(k,{user:this.state.loggedInUser,getUser:this.getUser}),n.a.createElement(C,{current:"Search",user:this.state.loggedInUser,to:[["/","Chat"],["/pending","Pending"],["/requested","Requested"],["/search/people","Search"]]}),n.a.createElement("div",{className:"search-people-component"},n.a.createElement(y,{message:this.state.message}),n.a.createElement("p",{className:"search-people-message"},this.state.searchMessage),n.a.createElement("ul",null,this.listUsers())))}}]),t}(s.Component)),T=(a(88),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).getTheUser=function(){a.props.getUser(null)},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state.username;t?a.service.resetPassword(t).then(function(e){a.setState({message:e.message}),c()(".message").dialog("open")}).catch(function(e){e.response&&e.response.data&&(a.setState({message:e.response.data.message}),c()(".message").dialog("open"))}):(a.setState({message:"Provide your email."}),c()(".message").dialog("open"))},a.handleChange=function(e){var t=e.target,s=t.name,n=t.value;a.setState(Object(v.a)({},s,n))},a.state={username:"",message:""},a.service=new U,a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){c()(".message").dialog("destroy")}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("div",{className:"reset-password-component"},n.a.createElement("form",{onSubmit:this.handleFormSubmit},n.a.createElement("div",{className:"field is-grouped is-grouped-centered"},n.a.createElement("h1",{className:"title reset-password-title"},"Let's Toast")),n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("label",{className:"label reset-password-label"},"Email"),n.a.createElement("input",{className:"input is-primary",name:"username",type:"text",value:this.state.username,onChange:function(t){return e.handleChange(t)}}))),n.a.createElement(y,{message:this.state.message}),n.a.createElement("div",{className:"field is-grouped is-grouped-centered"},n.a.createElement("div",{className:"control"},n.a.createElement("input",{className:"button is-primary reset-password-button",type:"submit",value:"Reset Password"}))),n.a.createElement("div",{className:"field is-grouped is-grouped-centered"},n.a.createElement("div",{className:"control"},n.a.createElement(N.a,{to:"/",className:"reset-password-link"}," Back to Home"))))))}}]),t}(s.Component)),L=(a(90),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).getUser=function(){a.props.getUser(null)},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,s=t.username,n=t.password;n?n.length<7?(a.setState({message:"The password needs at least 8 characters."}),c()(".message").dialog("open")):a.service.resetPasswordUpdate(s,n,a.props.match.params.token).then(function(e){a.setState({message:e.message}),c()(".message").dialog("open")}).catch(function(e){e.response&&e.response.data&&(a.setState({message:e.response.data.message}),c()(".message").dialog("open"))}):(a.setState({message:"Provide a new password."}),c()(".message").dialog("open"))},a.handleChange=function(e){var t=e.target,s=t.name,n=t.value;a.setState(Object(v.a)({},s,n))},a.state={username:"",password:"",message:"",loggedInUser:a.props.user},a.service=new U,a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){c()(".message").dialog("destroy")}},{key:"componentDidMount",value:function(){var e=this;this.service.getResetPasswordUpdate(this.props.match.params.token).then(function(t){e.setState({username:t.username})}).catch(function(t){t.response&&t.response.data&&e.setState({message:t.response.data.message})})}},{key:"render",value:function(){var e=this;return this.state.username?n.a.createElement("div",null,n.a.createElement(k,{user:this.state.loggedInUser,getUser:this.getUser}),n.a.createElement(C,{user:this.state.loggedInUser,to:[["/","Chat"],["/pending","Pending"],["/requested","Requested"],["/search/people","Search"]]}),n.a.createElement("div",{className:"reset-password-update-component"},n.a.createElement("form",{onSubmit:this.handleFormSubmit},n.a.createElement("div",{className:"field is-grouped is-grouped-centered"},n.a.createElement("h1",{className:"title reset-password-update-title"},"Let's Toast")),n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("label",{className:"label reset-password-update-label"},"Password"),n.a.createElement("input",{className:"input is-primary",name:"password",type:"text",value:this.state.password,onChange:function(t){return e.handleChange(t)}}))),n.a.createElement(y,{message:this.state.message}),n.a.createElement("div",{className:"field is-grouped is-grouped-centered"},n.a.createElement("div",{className:"control"},n.a.createElement("input",{className:"button is-primary reset-password-update-button",type:"submit",value:"Update Password"}))),n.a.createElement("div",{className:"field is-grouped is-grouped-centered"},n.a.createElement("div",{className:"control"},n.a.createElement(N.a,{to:"/",className:"reset-password-link"},"Back")))))):n.a.createElement("div",null,n.a.createElement(k,{user:this.state.loggedInUser,getUser:this.props.getUser}),n.a.createElement(C,{user:this.state.loggedInUser,to:[["/","Chat"],["/pending","Pending"],["/requested","Requested"],["/search/people","Search"]]}),n.a.createElement("div",{className:"reset-password-update-component"},n.a.createElement("form",{onSubmit:this.handleFormSubmit},n.a.createElement("div",{className:"field is-grouped is-grouped-centered"},n.a.createElement("h1",{className:"title reset-password-update-title"},"Let's Toast")),n.a.createElement("div",{className:"field is-grouped is-grouped-centered"},n.a.createElement("h3",{className:"subtitle reset-password-update-message"},this.state.message)),n.a.createElement("div",{className:"field is-grouped is-grouped-centered reset-password-update-link-div"},n.a.createElement("div",{className:"control"},n.a.createElement(N.a,{to:"/",className:"reset-password-update-link"},"Back"))))))}}]),t}(s.Component)),D=Object(f.a)(L),F=(a(92),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).getUser=function(){a.props.getUser(null)},a.state={message:"",loggedInUser:a.props.user},a.service=new U,a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.service.confirmEmail(this.props.match.params.token).then(function(t){e.setState({message:t.message})}).catch(function(t){t.response&&t.response.data&&e.setState({message:t.response.data.message})})}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(k,{user:this.state.loggedInUser,getUser:this.getUser}),n.a.createElement(C,{user:this.state.loggedInUser,to:[["/","Chat"],["/pending","Pending"],["/requested","Requested"],["/search/people","Search"]]}),n.a.createElement("div",{className:"email-confirmation-component"},n.a.createElement("form",{onSubmit:this.handleFormSubmit},n.a.createElement("div",{className:"field is-grouped is-grouped-centered"},n.a.createElement("h1",{className:"title email-confirmation-title"},"Let's Toast")),n.a.createElement("div",{className:"field is-grouped is-grouped-centered"},n.a.createElement("h3",{className:"subtitle email-confirmation-message"},this.state.message)),n.a.createElement("div",{className:"field is-grouped is-grouped-centered email-confirmation-link-div"},n.a.createElement("div",{className:"control"},n.a.createElement(N.a,{to:"/",className:"email-confirmation-link"},"Back"))))))}}]),t}(s.Component)),W=Object(f.a)(F),A=(a(94),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).logoutUser=function(){a.authService.logout().then(function(){a.props.getUser(null)})},a.handleChange=function(e){var t=e.target,s=t.name,n=t.value;a.setState(Object(v.a)({},s,n))},a.state={loggedInUser:a.props.user,name:"",aboutMe:"",interest:"",pictureUrl:a.props.user.pictureUrl,file:null,message:""},a.userService=new j,a.authService=new U,a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){c()(".message").dialog("destroy")}},{key:"handleChangeFile",value:function(e){this.setState({file:e.target.files[0],pictureUrl:URL.createObjectURL(e.target.files[0])})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state,s=a.name,n=a.aboutMe,r=a.interest,i=a.file;s&&n&&r?s.length<7||s.length>20?(this.setState({message:"The name needs 8-20 characters"}),c()(".message").dialog("open")):r.length>30?(this.setState({message:"The interest needs less than 30 characters"}),c()(".message").dialog("open")):n.length>200?(this.setState({message:"The about me needs less than 200 characters"}),c()(".message").dialog("open")):this.userService.updateInfo(s,n,r,i).then(function(){t.props.getUser(null)}).catch(function(e){e.response&&e.response.data&&(t.setState({message:e.response.data.message}),c()(".message").dialog("open"))}):(this.setState({message:"Provide all information."}),c()(".message").dialog("open"))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("div",{className:"update-profile-component"},n.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},n.a.createElement("div",{className:"field is-grouped is-grouped-centered insert-message"},n.a.createElement("div",{className:"control"},n.a.createElement("h1",{className:"subtitle update-profile-title"},"Welcome!"))),n.a.createElement("div",{className:"field is-grouped is-grouped-centered insert-message"},n.a.createElement("div",{className:"control"},n.a.createElement("h1",{className:"subtitle update-profile-text"},"Just a bit more information!"))),n.a.createElement("div",{className:"field is-grouped is-grouped-centered"},n.a.createElement("img",{className:"profile-picture",src:this.state.pictureUrl,alt:"profile"})),n.a.createElement("div",{className:"field is-grouped is-grouped-centered update-profile-upload"},n.a.createElement("div",{className:"file is-primary"},n.a.createElement("label",{className:"file-label"},n.a.createElement("input",{className:"file-input",type:"file",onChange:function(t){return e.handleChangeFile(t)}}),n.a.createElement("span",{className:"file-cta"},n.a.createElement("span",{className:"file-label"},"Upload\u2026"))))),n.a.createElement("div",{className:"field profile-input"},n.a.createElement("div",{className:"control"},n.a.createElement("label",{className:"label update-profile-label profile-name"},"Name"),n.a.createElement("input",{className:"input is-primary",name:"name",type:"text",value:this.state.name,onChange:function(t){return e.handleChange(t)}}))),n.a.createElement("div",{className:"field profile-input"},n.a.createElement("div",{className:"control"},n.a.createElement("label",{className:"label update-profile-label"},"About Me"),n.a.createElement("textarea",{className:"textarea is-primary",name:"aboutMe",value:this.state.aboutMe,onChange:function(t){return e.handleChange(t)}}))),n.a.createElement("div",{className:"field profile-input"},n.a.createElement("div",{className:"control"},n.a.createElement("label",{className:"label update-profile-label"},"Interest"),n.a.createElement("input",{className:"input is-primary",name:"interest",value:this.state.interest,onChange:function(t){return e.handleChange(t)}}))),n.a.createElement(y,{message:this.state.message}),n.a.createElement("div",{className:"field is-grouped is-grouped-centered"},n.a.createElement("button",{className:"button is-primary update-profile-button",type:"submit"},"Update Info")),n.a.createElement("div",{className:"field is-grouped is-grouped-centered"},n.a.createElement(N.a,{to:"/",onClick:function(){return e.logoutUser()},className:"button is-primary update-profile-button"},"Logout")))))}}]),t}(s.Component)),B=(a(96),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).listMessages=function(){return console.log(a.state.receivedMessages),a.state.receivedMessages.map(function(e,t){return n.a.createElement("li",{className:"chat-message",key:t},e.message)})},a.getUser=function(){a.props.getUser(null)},a.fetchMessages=function(){a.service.getMessages(a.props.match.params.token).then(function(e){null===e.receivedMessages?a.setState({receivedMessages:[],targetUser:e.targetUser}):a.setState({receivedMessages:e.receivedMessages,targetUser:e.targetUser})}).catch(function(e){e.response&&e.response.data&&a.setState({message:e.response.data.message})})},a.handleChange=function(e){var t=e.target,s=t.name,n=t.value;a.setState(Object(v.a)({},s,n))},a.state={loggedInUser:a.props.user,targetUser:null,receivedMessages:[],message:"",inputMessage:"",alertMessage:""},a.service=new j,a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state.inputMessage;a?a.length>300?(this.setState({alertMessage:"The message needs less than 300 characters."}),c()(".message").dialog("open")):this.service.postMessage(this.state.targetUser.id,a).catch(function(e){e.response&&e.response.data&&(t.setState({alertMessage:e.response.data.message}),c()(".message").dialog("open"))}):(this.setState({alertMessage:"You can't send an empty message."}),c()(".message").dialog("open"))}},{key:"componentDidMount",value:function(){var e=this;this.fetchMessages(),this.interval=setInterval(function(){return e.fetchMessages()},1e3)}},{key:"componentWillUnmount",value:function(){c()(".message").dialog("destroy"),clearInterval(this.interval)}},{key:"render",value:function(){var e=this;return this.state.targetUser?n.a.createElement("div",null,n.a.createElement(k,{user:this.state.loggedInUser,getUser:this.getUser}),n.a.createElement(C,{current:"Chat",user:this.state.loggedInUser,to:[["/","Chat"],["/pending","Pending"],["/requested","Requested"],["/search/people","Search"]]}),n.a.createElement(y,{message:this.state.alertMessage}),n.a.createElement("div",{className:"chat-component"},n.a.createElement("div",{className:"chat-targetuser-info"},n.a.createElement("img",{className:"chat-picture",src:this.state.targetUser.pictureUrl,alt:"profile"}),n.a.createElement("p",{className:"chat-targetuser-name"},this.state.targetUser.name)),n.a.createElement("ul",{className:"chat-container"},this.listMessages()),n.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},n.a.createElement("div",{className:"field profile-input"},n.a.createElement("div",{className:"control"},n.a.createElement("textarea",{className:"input is-primary chat-input",name:"inputMessage",value:this.state.inputMessage,onChange:function(t){return e.handleChange(t)}}))),n.a.createElement("div",{className:"field is-grouped is-grouped-centered"},n.a.createElement("button",{className:"button is-primary chat-button",type:"submit"},"Send Message"))))):n.a.createElement("div",null,n.a.createElement(k,{user:this.state.loggedInUser,getUser:this.getUser}),n.a.createElement(C,{current:"Chat",user:this.state.loggedInUser,to:[["/","Chat"],["/pending","Pending"],["/requested","Requested"],["/search/people","Search"]]}),n.a.createElement("div",{className:"chat-component"},n.a.createElement("p",{className:"chat-error-message"},this.state.message)))}}]),t}(s.Component)),z=Object(f.a)(B),J=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).getUser=function(e){a.setState({loggedInUser:e})},a.state={loggedInUser:null},a.service=new U,a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"fetchUser",value:function(){var e=this;null===this.state.loggedInUser&&this.service.loggedin().then(function(t){"Logged"===t.message&&e.setState({loggedInUser:t.user}),"Not Logged"===t.message&&e.setState({loggedInUser:!1})}).catch(function(){e.setState({loggedInUser:!1})})}},{key:"render",value:function(){var e=this;return this.fetchUser(),this.state.loggedInUser&&!this.state.loggedInUser.name?n.a.createElement("div",{className:"App"},n.a.createElement(p.a,null,n.a.createElement(h.a,{path:"/",render:function(){return n.a.createElement(A,{getUser:e.getUser,user:e.state.loggedInUser})}}))):this.state.loggedInUser?n.a.createElement("div",{className:"App"},n.a.createElement(p.a,null,n.a.createElement(h.a,{exact:!0,path:"/chat/:token",render:function(){return n.a.createElement(z,{getUser:e.getUser,user:e.state.loggedInUser})}}),n.a.createElement(h.a,{exact:!0,path:"/profile",render:function(){return n.a.createElement(M,{getUser:e.getUser,user:e.state.loggedInUser})}}),n.a.createElement(h.a,{exact:!0,path:"/pending",render:function(){return n.a.createElement(P,{getUser:e.getUser,user:e.state.loggedInUser})}}),n.a.createElement(h.a,{exact:!0,path:"/requested",render:function(){return n.a.createElement(q,{getUser:e.getUser,user:e.state.loggedInUser})}}),n.a.createElement(h.a,{exact:!0,path:"/search/people",render:function(){return n.a.createElement(R,{getUser:e.getUser,user:e.state.loggedInUser})}}),n.a.createElement(h.a,{exact:!0,path:"/reset/update/:token",render:function(){return n.a.createElement(D,{getUser:e.getUser,user:e.state.loggedInUser})}}),n.a.createElement(h.a,{exact:!0,path:"/confirm/:token",render:function(){return n.a.createElement(W,{getUser:e.getUser,user:e.state.loggedInUser})}}),n.a.createElement(h.a,{path:"/",render:function(){return n.a.createElement(x,{getUser:e.getUser,user:e.state.loggedInUser})}}))):!1===this.state.loggedInUser?n.a.createElement("div",{className:"App"},n.a.createElement(p.a,null,n.a.createElement(h.a,{exact:!0,path:"/reset",render:function(){return n.a.createElement(T,{user:e.state.loggedInUser})}}),n.a.createElement(h.a,{exact:!0,path:"/reset/update/:token",render:function(){return n.a.createElement(D,{user:e.state.loggedInUser})}}),n.a.createElement(h.a,{exact:!0,path:"/confirm/:token",render:function(){return n.a.createElement(W,{user:e.state.loggedInUser})}}),n.a.createElement(h.a,{exact:!0,path:"/signup",render:function(){return n.a.createElement(w,{getUser:e.getUser})}}),n.a.createElement(h.a,{path:"/",render:function(){return n.a.createElement(O,{getUser:e.getUser})}}))):null}}]),t}(s.Component),_=Object(f.a)(J);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=a(102);window.jQuery=c.a,a(98),i.a.render(n.a.createElement(H.a,null,n.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[28,2,1]]]);
//# sourceMappingURL=main.5172824d.chunk.js.map